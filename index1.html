<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="style.css">
<!-- bootstrap css -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bidan Nenden</title>
</head>

<body>
    <section class="hamil" id="hamil">
        <h2 class="heading">pasien <span>hamil</span></h2>
        <div class="alert alert-success alert-dismissible fade show d-none" role="alert">
            <strong>Terima Kasih!</strong> pesan anda sudah kami terima.
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        <form name="hamil">
            <div class="input-box">
                <input type="number" placeholder="no registrasi pasien" name="no registrasi pasien">
            </div>
            <div class="input-box">
                <input type="number" placeholder="no jumlah pasien" name="no jumlah pasien">
            </div>
            <div class="input-box">
                <input type="text" placeholder="Nama" name="nama">
            </div>
            <div class="input-box">
                <input type="text" placeholder="nama suami" name="nama suami">
            </div>
            <div class="input-box">
                <input type="text" placeholder="tanggal lahir" name="tanggal lahir">
            </div>
            <div class="input-box">
                <input type="text" placeholder="usia" name="usia">
            </div>
            <div class="input-box">
                <input type="text" placeholder="alamat" name="alamat">
            </div>
            <div class="input-box">
                <input type="text" placeholder="HPHT" name="HPHT">
            </div>
            <div class="input-box">
                <input type="text" placeholder="TP" name="TP">
            </div>
            <div class="input-box">
                <input type="text" placeholder="keluhan" name="keluhan">
            </div>
            <div class="input-box">
                <input type="text" placeholder="Bt/Tb" name="Bt/Tb">
            </div>
            <div class="input-box">
                <input type="text" placeholder="lila/LP" name="lila/LP">
            </div>
            <div class="input-box">
                <input type="text" placeholder="tekanan darah" name="tekanan darah">
            </div>
            <div class="input-box">
                <input type="text" placeholder="suhu" name="suhu">
            </div>
            <div class="input-box">
                <input type="text" placeholder="diagnosa" name="diagnosa">
            </div>
            <div class="input-box">
                <input type="text" placeholder="penatalaksanaan" name="penatalaksanaan">
            </div>
            <div class="input-box">
                <input type="text" placeholder="tanggal kembali" name="tanggal kembali">
            </div>
            <button type="submit" class="btn btn-primary btn-kirim">Kirim</button>
            <button class="btn btn-primary btn-loading d-none" type="button" disabled>
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                Loading...
            </button>
        </form>
        </div>
    </section>
    <!-- script java -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbyR1nORDLmZqamAaGUoA00lC57A2gsQsip_x18I3S71gMX6ApGRR_rsP51aXJ663ZsC/exec'
        const form = document.forms['hamil']
        const btnKirim = document.querySelector('.btn-kirim');
        const btnLoading = document.querySelector('.btn-loading');
        const alert = document.querySelector('.alert');

        form.addEventListener('submit', e => {
            e.preventDefault()
            // ketika tombol submit
            // tampilkan tombol loading, hilangkan tombol kirim
            btnLoading.classList.toggle('d-none');
            btnKirim.classList.toggle('d-none');
            fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                .then(response => {
                    btnLoading.classList.toggle('d-none');
                    btnKirim.classList.toggle('d-none');

                    alert.classList.toggle('d-none');
                    form.reset();
                    console.log('Success!', response)
                })
                .catch(error => console.error('Error!', error.message))
        });
    </script>
</body>

</html>